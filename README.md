## Entain BE Technical Test

## Task 1
Added additional filter `race_visibility`. This filter will allow user/operator to call on ListRaces to filter out the output to race's visible parameter.

The changes necessary were to modify the `ListRacesRequestFilter` to accept an additional parameter to parse in another filter named `race_visibility` from both api and racing servers.

The modification to `applyFilter()` was necessary to query the database to check if there were any additional filter inputs for RaceVisibility.

### Task 1 - Reflection
I haven't used the protobuf before and I failed to understand immediately why the server was not accepting a single input. I had to re-read the .pb.go files to understand the functions generated by the protoc to understand it was accepting an array of a certain type.

## Task 2
Added `raceReportSortByAdvertisedTime()` to the `ListRaces()` so any newly added races can be ordered whenever a POST message `ListRacesRequest` is sent from the user/operator. 

### Task 2 - Reflection
I haven't implemented the bonus task as I usually tend to the MVP first and apply any additional feature/upgrades after discussing with the team and client. I'm working this task as how I would usually work in an environment with a team and assuming I would have to deliver the MVP first then bonus tasks at the end when MVP has been completed.

## Task 3
Added a new message field to `Race` to api and racing server. This allows user to visually see if a certain types of races are CLOSED or OPEN depending on the current time.

The database table is modified on runtime when the `ListRaces()` is called to update the status of all races. Cases that was considered was when a new race is added or just simply, time passing, the listed races needs to be up to date/time. I tried to make the code to account for future implementations or modifications needed to the database and made the functions more generic to add additional columns on runtime and modify the status at the same time.

### Task 3 - Reflection
It's been a while since I handled any database query (sqlite) so having to set this up was quite fun. I faced some difficulty when trying to make sure I was using the correct syntax to modify the selected row of the database but after a few tries (and bunch of online searching) I found out the best way I could implement to add a new column. Unfortunately, I made a poor implementation to confirm if the column of a specific name already exists. I couldn't figure out how to use the `INSER OR IGNORE` or find an alternative to `IF NOT EXIST` query for sqlite3, so I made a dodgy error handling to ignore the 'duplicate column exists' error. In my future attempts, hopefully I'll understand the correct keywords necessary. 